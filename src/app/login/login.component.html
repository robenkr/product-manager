<div class="wrapper wrapper-content">
  <div class="container">
    <h2 class="col-md-6 offset-5">LOGIN</h2>
    <div class="col-md-8 offset-2">
      <div class="ibox-content">
        <form (ngSubmit)="connexion()" [formGroup]="loginForm" class="m-t">
          <div class="form-group">
            <input
              [ngClass]="{'is-invalid' : (loginForm.get('email')?.touched || loginForm.get('email')?.dirty) && !loginForm.get('email')?.valid}"
              class="form-control" formControlName="email" id="email"
              placeholder="Email" required="required"
              type="email">
            <div class="invalid-feedback">
          <span
            *ngIf="loginForm.hasError('required', 'email')">Your email is required !</span>
            </div>
          </div>
          <div class="form-group">
            <div class="input-group m-b">
              <input
                [ngClass]="{'is-invalid' : (loginForm.get('password')?.touched || loginForm.get('password')?.dirty) && !loginForm.get('password')?.valid}"
                [type]="'password'" class="form-control"
                formControlName="password" minlength="6" placeholder="Password" required="required"
                type="password">
              <div class="input-group-append">
              </div>
              <div class="invalid-feedback">
                <span *ngIf="loginForm.hasError('required', 'password')">Your Password is required !</span>
                <span
                  *ngIf="loginForm.hasError('minLength', 'password')">Valid Password must be longer than 6 caracters !</span>
              </div>
            </div>
          </div>
          <button [disabled]="!loginForm.valid"
                  [title]="loginForm.valid ?  'User LoggedIn' : 'Disable until valid form data'"
                  class="btn btn-primary block full-width m-b"
                  type="submit">Login
          </button>
          <div *ngIf="error" class="alert alert-danger mt-3 mb-0">{{error}}</div>
        </form>
      </div>
    </div>
  </div>
</div>
